<!DOCTYPE html>
<html>
<head>
	<title>main page</title>
	<link rel="stylesheet" type="text/css" href="../../../main.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
	<h1>System page</h1>
	<!-- <h3><a href="/personal">個人資料</a></h3> -->
	<nav>
		<ul>
			<li><a href="/lists">活動列表</a></li>
			<li><a href="/lists/admin">活動管理</a></li>
			<li><a href="/lists/mine">我的活動</a></li>
			<li><a href="/lists/new">發起活動</a></li>
			<li><a href="/personal">個人資料</a></li>
			<li><a href="/logout">登出</a></li>
		</ul>
	</nav>
	<hr>
	<div id="container">
		<form action="/lists/<%= n %>/edit?_method=put" method="post" id="createForm">
			<!-- <p>
				<label>name: <%= n %></label>
				<input type="text" name="name" value="<%= n %>" size="20" maxlength="20"
					required data-value-missing="this field is required!" pattern=([^\x00-\x40\x5B-\x60\x7B-\x7F]){2,20} data-pattern-mismatch="Translate('Invalid character')">
			</p> -->
			<p>name: <%= n %></p>
			<p>
				<label>date</label>
				<input type="text" name="date" value="<%= d %>" size="20" maxlength="8"
					required data-value-missing="this field is required!" pattern=([0-9]){8} data-pattern-mismatch="Translate('Invalid character')">
			</p>
			<p>
				<label>limit</label>
				<input type="text" name="limit" value="<%= l %>" size="20" maxlength="3" 
					required data-value-missing="this field is required!" pattern=([0-9]){1,3} data-pattern-mismatch="Translate('Invalid character')">
			</p>
			<!-- <p>
				<label>description</label>
				<textarea pattern={0,255} class="des" name="describe" value="<%= des %>" maxlength="255"></textarea>
				<input type="text" name="describe" value="<%= des %>" size="255" maxlength="255" pattern={0,255} class="des">
			</p> -->
			<span class="btns">
				<a href="/lists/admin">cancel</a>
				<a href="/lists/<%= n %>/edit/check">取消此活動</a>
				<input type="submit" name="save" value="save">
			</span>
		</form>
		<!-- <form action="/lists/<%= n %>/edit/check" method="get">
			<input type="submit" name="delete" value="取消此活動">
		</form> -->
		<% if(del) { %>
			<form action="/lists/<%= n %>/edit?_method=delete" method="post">
				<p>
					<label>password: </label>
					<input type="password" name="pass" value="" size="20" maxlength="10"
							required data-value-missing="this field is required!" pattern=\w{4,10} data-pattern-mismatch="Translate('Invalid character')">
				</p>
				<input type="submit" value="確定" name="del">
			</form>
		<% } %>
			<p>
				<p>description</p>
				<textarea pattern={0,255} class="des" name="describe" maxlength="255" form="createForm"><%= des %></textarea>
				<!-- <input name="describe" value="" size="255" maxlength="255" pattern={0,255} class="des" form="createForm"> -->
			</p>
		<!-- <% if(del) { %>
			<form action="/system/delete/<%= n %>" method="post">
				<p>
					<label>password: </label>
					<input type="password" name="pass" value="" size="20" maxlength="10"
							required data-value-missing="this field is required!" pattern=\w{4,10} data-pattern-mismatch="Translate('Invalid character')">
				</p>
				<input type="submit" value="確定" name="del">
			</form>
		<% } %> -->
		<% if(num == 0) { %>
			<p>目前尚無人報名</p>
		<% } else { %>
			<h3>參加名單</h3>
			<table>
				<tr>
					<td>姓名</td><td>Email</td>
				</tr>
				<% for(let i = 0; i < num; i++) { %>
					<tr>
						<td><%= man[i]['name'] %></td><td><%= man[i]['email'] %></td>
					</tr>
				<% } %>
			</table>
		<% } %>
	</div>
</body>
</html>