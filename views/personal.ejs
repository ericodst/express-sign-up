<!DOCTYPE html>
<html>
<head>
	<title>main page</title>
	<link rel="stylesheet" type="text/css" href="../main.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
	<h1>System page</h1>
	<!-- <h3><a href="/personal">個人資料</a></h3> -->
	<nav>
		<ul>
			<li><a href="/lists">活動列表</a></li>
			<li><a href="/lists/admin">活動管理</a></li>
			<li><a href="/lists/mine">我的活動</a></li>
			<li><a href="/lists/new">發起活動</a></li>
			<li><a href="/personal">個人資料</a></li>
			<li><a href="/logout">登出</a></li>
		</ul>
	</nav>
	<hr>
	<div id="container">
		<% if(!chpwd) { %>
			<form action="/personal?_method=put" method="post" id="personalForm">
				<div class="form-group row">
					<label>Name: </label>
					<input type="text" name="name" value="<%= name %>" size="20" maxlength="20"
						required data-value-missing="this field is required!" pattern=([^\x00-\x40\x5B-\x60\x7B-\x7F]){2,20} data-pattern-mismatch="Translate('Invalid character')">
				</div>
				<div class="form-group row">
					<label>Account: </label>
					<input type="text" value="<%= account %>" disabled>
				</div>
				<!-- <p>
					<label>password: </label>
					<input type="text" name="date" value="<%=  %>" size="20" maxlength="8"
						required data-value-missing="this field is required!" pattern=([0-9]){8} data-pattern-mismatch="Translate('Invalid character')">
				</p> -->
				<div class="form-group row">
					<label>Email: </label>
					<input type="email" name="email" value="<%= email %>" size="40" maxlength="40" 
						required data-value-missing="this field is required!">
				</div>
				<button>
					<a href="/lists/admin">cancel</a>
				</button>
				<button>
					<a href="/personal/change">變更密碼</a>
				</button>
				<input type="submit" name="save" value="save">
			</form>
		<% } else if(chpwd) { %>
			<form action="/personal/change?_method=put" method="post" id="changePass">
				<p>
					<label>Old password: </label>
					<input type="password" name="oldPass" value="" size="20" maxlength="10"
						required data-value-missing="this field is required!" pattern=\w{4,10} data-pattern-mismatch="Translate('Invalid character')">
				</p>
				<p>
					<label>New password: </label>
					<input type="password" name="newPass" value="" size="20" maxlength="10"
						required data-value-missing="this field is required!" pattern=\w{4,10} data-pattern-mismatch="Translate('Invalid character')">
				</p>
				<p>
					<label>New password again: </label>
					<input type="password" name="newPassAgain" value="" size="20" maxlength="10"
						required data-value-missing="this field is required!" pattern=\w{4,10} data-pattern-mismatch="Translate('Invalid character')">
				</p>
				<a href="/personal">cancel</a>
				<input type="submit" name="changePass" value="確定">
			</form>
		<% } %>
	</div>
</body>
</html>